<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Project Expansion Ceremony | Agile Vibe Coding</title>
    <meta name="description" content="AI-agent framework for long-running software development projects">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/assets/style.DlrO5Rky.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.LuwKZ2Be.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.CAPV5Bil.js">
    <link rel="modulepreload" href="/assets/chunks/framework.z0p7P-Mv.js">
    <link rel="modulepreload" href="/assets/ceremonies_project-expansion.md.C2KEfIeN.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/" data-v-1168a8e4><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.svg" alt data-v-8426fc1a><!--]--><span data-v-1168a8e4>Agile Vibe Coding</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/install.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Install</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/commands.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Commands</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/contribute.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Contribute</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://github.com/NachoColl/agilevibecoding" target="_blank" rel="noreferrer" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>GitHub</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/NachoColl/agilevibecoding" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/NachoColl/agilevibecoding" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Introduction</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Overview</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Ceremonies</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ceremonies/sponsor-call.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Sponsor Call</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ceremonies/project-expansion.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Project Expansion</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ceremonies/seed.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Seed</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ceremonies/ai-coding.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>AI Coding</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ceremonies/context-retrospective.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Context Retrospective</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Reference</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/install.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Install</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/commands.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>CLI Commands</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/contribute.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Contributing</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Agents</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><section class="VPSidebarItem level-1 collapsible" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>Documentation</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/agents/project-documentation-creator.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Creator</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/agents/documentation-updater.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Updater</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>Decomposition</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/agents/epic-story-decomposer.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Epic/Story</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/agents/task-subtask-decomposer.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Task/Subtask</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>Context Management</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/agents/project-context-generator.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Project</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/agents/feature-context-generator.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Feature</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/agents/context-refiner.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Refiner</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>Domain Suggestions</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/agents/suggestion-business-analyst.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Business Analyst</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/agents/suggestion-ux-researcher.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>UX Researcher</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/agents/suggestion-product-manager.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Product Manager</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/agents/suggestion-technical-architect.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Technical Architect</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/agents/suggestion-security-specialist.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Security Specialist</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _ceremonies_project-expansion" data-v-39a288b8><div><h1 id="project-expansion-ceremony" tabindex="-1">Project Expansion Ceremony <a class="header-anchor" href="#project-expansion-ceremony" aria-label="Permalink to &quot;Project Expansion Ceremony&quot;">‚Äã</a></h1><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">‚Äã</a></h2><p>The <strong>Project Expansion</strong> ceremony creates or expands the project&#39;s Epic and Story hierarchy with intelligent duplicate detection. It decomposes project scope into domain-based Epics (3-7) and user-facing Stories (2-8 per Epic) with proper context inheritance.</p><p><strong>Purpose:</strong> Create domain-based Epics and user-facing Stories with duplicate detection to support incremental project growth.</p><p><strong>Output:</strong> Epic and Story directories with doc.md, context.md, and work.json files.</p><p><strong>Duration:</strong> 5-15 minutes (depending on scope size)</p><hr><h2 id="prerequisites" tabindex="-1">Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites&quot;">‚Äã</a></h2><p>Before running Project Expansion:</p><ol><li><p><strong>Sponsor Call completed:</strong></p><ul><li><code>.avc/project/project/doc.md</code> exists (for INITIAL_SCOPE)</li><li><code>.avc/project/project/context.md</code> exists (for context inheritance)</li></ul></li><li><p><strong>LLM provider configured:</strong></p><ul><li>API key in <code>.env</code> file (ANTHROPIC_API_KEY or GEMINI_API_KEY)</li><li>Provider set in <code>.avc/avc.json</code></li></ul></li></ol><hr><h2 id="how-it-works-workflow" tabindex="-1">How It Works - Workflow <a class="header-anchor" href="#how-it-works-workflow" aria-label="Permalink to &quot;How It Works - Workflow&quot;">‚Äã</a></h2><figure class="vpd-diagram vpd-diagram--mermaid" onclick="
        const figure = this;
        const isFullscreen = figure.classList.contains(&#39;vpd-diagram--fullscreen&#39;);

        document.querySelectorAll(&#39;.vpd-diagram&#39;).forEach(diagram =&gt; {
          diagram.classList.remove(&#39;vpd-diagram--fullscreen&#39;);
        });

        if (!isFullscreen) {
          figure.classList.add(&#39;vpd-diagram--fullscreen&#39;);
        }
      "><img src="/diagrams/mermaid-project-expansion-65-be04bee43c08b009333bc284dd38086b.svg" alt="mermaid Diagram" class="vpd-diagram-image"></figure><hr><h2 id="processing-steps" tabindex="-1">Processing Steps <a class="header-anchor" href="#processing-steps" aria-label="Permalink to &quot;Processing Steps&quot;">‚Äã</a></h2><h3 id="step-1-validate-prerequisites" tabindex="-1">Step 1: Validate Prerequisites <a class="header-anchor" href="#step-1-validate-prerequisites" aria-label="Permalink to &quot;Step 1: Validate Prerequisites&quot;">‚Äã</a></h3><p>Checks that project foundation exists:</p><ul><li><code>.avc/project/project/doc.md</code> (for INITIAL_SCOPE extraction)</li><li><code>.avc/project/project/context.md</code> (for context inheritance)</li></ul><p><strong>Error Handling:</strong></p><ul><li>If missing ‚Üí Error: &quot;Please run /sponsor-call first&quot;</li></ul><h3 id="step-2-read-existing-hierarchy" tabindex="-1">Step 2: Read Existing Hierarchy <a class="header-anchor" href="#step-2-read-existing-hierarchy" aria-label="Permalink to &quot;Step 2: Read Existing Hierarchy&quot;">‚Äã</a></h3><p>Scans <code>.avc/project/</code> for existing Epic and Story directories:</p><ul><li>Builds map of existing Epic names (case-insensitive)</li><li>Builds map of existing Story names (case-insensitive)</li><li>Tracks max Epic number (e.g., context-0003 ‚Üí 3)</li><li>Tracks max Story number per Epic (e.g., context-0001-0005 ‚Üí 5)</li></ul><p><strong>Purpose:</strong> Enable duplicate detection and ID renumbering.</p><h3 id="step-3-collect-scope" tabindex="-1">Step 3: Collect Scope <a class="header-anchor" href="#step-3-collect-scope" aria-label="Permalink to &quot;Step 3: Collect Scope&quot;">‚Äã</a></h3><p>Reads INITIAL_SCOPE section from <code>.avc/project/project/doc.md</code>:</p><ul><li>Extracts features list from &quot;## Initial Scope&quot; section</li><li>Future enhancement: Prompt user for additional features to add</li></ul><h3 id="step-4-decompose-into-epics-stories" tabindex="-1">Step 4: Decompose into Epics/Stories <a class="header-anchor" href="#step-4-decompose-into-epics-stories" aria-label="Permalink to &quot;Step 4: Decompose into Epics/Stories&quot;">‚Äã</a></h3><p>Uses <code>epic-story-decomposer</code> agent to create hierarchy:</p><p><strong>Input:</strong></p><ul><li>INITIAL_SCOPE (from doc.md)</li><li>Project context.md content</li><li>List of existing Epic names (for duplicate detection)</li><li>List of existing Story names (for duplicate detection)</li></ul><p><strong>Output:</strong></p><ul><li>JSON with 3-7 new Epics</li><li>Each Epic contains 2-8 new Stories</li><li>Skips any Epics/Stories matching existing names</li></ul><p><strong>Agent Instruction:</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Existing Epics: user management, payment processing</span></span>
<span class="line"><span>Existing Stories: user registration, login, checkout</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Generate NEW Epics and Stories. Do not duplicate existing ones.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="step-5-duplicate-detection" tabindex="-1">Step 5: Duplicate Detection <a class="header-anchor" href="#step-5-duplicate-detection" aria-label="Permalink to &quot;Step 5: Duplicate Detection&quot;">‚Äã</a></h3><p>Validates generated Epics/Stories against existing hierarchy:</p><ul><li><strong>Case-insensitive name matching</strong></li><li>Skips duplicates automatically (agent-level)</li><li>Logs warning if collision detected</li></ul><p><strong>Example:</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Existing: &quot;User Management&quot; (context-0001)</span></span>
<span class="line"><span>New:      &quot;user management&quot; ‚Üí SKIPPED (duplicate)</span></span>
<span class="line"><span>New:      &quot;Payment Processing&quot; ‚Üí CREATED (context-0002)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="step-6-renumber-ids" tabindex="-1">Step 6: Renumber IDs <a class="header-anchor" href="#step-6-renumber-ids" aria-label="Permalink to &quot;Step 6: Renumber IDs&quot;">‚Äã</a></h3><p>Assigns IDs to avoid collisions:</p><ul><li><strong>Epics:</strong> Start at maxEpicNum + 1</li><li><strong>Stories:</strong> Start at maxStoryNum[epicId] + 1 per Epic</li></ul><p><strong>Example:</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Existing:</span></span>
<span class="line"><span>- context-0001 (Epic 1)</span></span>
<span class="line"><span>- context-0001-0001 (Story 1)</span></span>
<span class="line"><span>- context-0001-0002 (Story 2)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>New allocation:</span></span>
<span class="line"><span>- context-0002 (Epic 2) ‚Üê maxEpicNum (1) + 1</span></span>
<span class="line"><span>- context-0002-0001 (Story 1)</span></span>
<span class="line"><span>- context-0002-0002 (Story 2)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="step-7-generate-epic-contexts" tabindex="-1">Step 7: Generate Epic Contexts <a class="header-anchor" href="#step-7-generate-epic-contexts" aria-label="Permalink to &quot;Step 7: Generate Epic Contexts&quot;">‚Äã</a></h3><p>For each NEW Epic, generates context.md using <code>feature-context-generator</code> agent:</p><p><strong>Input:</strong></p><ul><li>Project context.md</li><li>Epic details (name, domain, description, features)</li></ul><p><strong>Output:</strong></p><ul><li>Epic context.md (~800 tokens)</li><li>Focus: Domain-specific concerns, bounded context boundaries, Epic-level patterns</li></ul><p><strong>Inheritance:</strong></p><ul><li>Epic contexts inherit from project context</li><li>Epic contexts are passed down to Stories</li></ul><h3 id="step-8-generate-story-contexts" tabindex="-1">Step 8: Generate Story Contexts <a class="header-anchor" href="#step-8-generate-story-contexts" aria-label="Permalink to &quot;Step 8: Generate Story Contexts&quot;">‚Äã</a></h3><p>For each NEW Story, generates context.md using <code>feature-context-generator</code> agent:</p><p><strong>Input:</strong></p><ul><li>Project context.md</li><li>Epic context.md (parent)</li><li>Story details (name, description, userType, acceptance criteria)</li></ul><p><strong>Output:</strong></p><ul><li>Story context.md (~1500 tokens)</li><li>Focus: User journey, acceptance criteria details, Story-level patterns</li></ul><p><strong>Inheritance:</strong></p><ul><li>Story contexts inherit from Epic and Project contexts</li><li>Story contexts are passed down to Tasks (created by Seed ceremony)</li></ul><h3 id="step-9-write-files" tabindex="-1">Step 9: Write Files <a class="header-anchor" href="#step-9-write-files" aria-label="Permalink to &quot;Step 9: Write Files&quot;">‚Äã</a></h3><p>Creates directory structure with 3 files per work item:</p><p><strong>Epic Files:</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>.avc/project/context-0001/</span></span>
<span class="line"><span>‚îú‚îÄ‚îÄ doc.md         # Stub (updated during retrospective)</span></span>
<span class="line"><span>‚îú‚îÄ‚îÄ context.md     # Epic context (~800 tokens)</span></span>
<span class="line"><span>‚îî‚îÄ‚îÄ work.json      # Epic metadata</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>Story Files:</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>.avc/project/context-0001-0001/</span></span>
<span class="line"><span>‚îú‚îÄ‚îÄ doc.md         # Stub (updated during retrospective)</span></span>
<span class="line"><span>‚îú‚îÄ‚îÄ context.md     # Story context (~1500 tokens)</span></span>
<span class="line"><span>‚îî‚îÄ‚îÄ work.json      # Story metadata with children: []</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><hr><h2 id="ai-agents-used" tabindex="-1">AI Agents Used <a class="header-anchor" href="#ai-agents-used" aria-label="Permalink to &quot;AI Agents Used&quot;">‚Äã</a></h2><p>The Project Expansion ceremony uses <strong>2 specialized AI agents</strong>:</p><h3 id="_1-epic-story-decomposer" tabindex="-1">1. Epic/Story Decomposer <a class="header-anchor" href="#_1-epic-story-decomposer" aria-label="Permalink to &quot;1. Epic/Story Decomposer&quot;">‚Äã</a></h3><ul><li><strong>File:</strong> <code>agents/epic-story-decomposer.md</code></li><li><strong>Purpose:</strong> Decompose project scope into Epics and Stories with duplicate detection</li><li><strong>Input:</strong> Project context + INITIAL_SCOPE + existing Epic/Story names</li><li><strong>Output:</strong> JSON with Epic/Story hierarchy (3-7 Epics, 2-8 Stories per Epic)</li><li><strong>Duplicate Handling:</strong> Skips Epics/Stories matching existing names (case-insensitive)</li><li><strong>Validation:</strong> Ensures 3-7 Epics, 2-8 Stories per Epic</li></ul><h3 id="_2-feature-context-generator" tabindex="-1">2. Feature Context Generator <a class="header-anchor" href="#_2-feature-context-generator" aria-label="Permalink to &quot;2. Feature Context Generator&quot;">‚Äã</a></h3><ul><li><strong>File:</strong> <code>agents/feature-context-generator.md</code></li><li><strong>Purpose:</strong> Generate context.md files for Epics and Stories</li><li><strong>Input (Epic level):</strong> Project context + Epic details</li><li><strong>Output (Epic level):</strong> Epic context.md (~800 tokens)</li><li><strong>Input (Story level):</strong> Project context + Epic context + Story details</li><li><strong>Output (Story level):</strong> Story context.md (~1500 tokens)</li><li><strong>Token Budgets:</strong> Epic ~800, Story ~1500</li></ul><hr><h2 id="metadata-files-work-json" tabindex="-1">Metadata Files (work.json) <a class="header-anchor" href="#metadata-files-work-json" aria-label="Permalink to &quot;Metadata Files (work.json)&quot;">‚Äã</a></h2><h3 id="epic-work-json-structure" tabindex="-1">Epic work.json Structure <a class="header-anchor" href="#epic-work-json-structure" aria-label="Permalink to &quot;Epic work.json Structure&quot;">‚Äã</a></h3><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;context-0001&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Epic Name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;epic&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;domain&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;domain-name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Epic description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;features&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;feature1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;feature2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;status&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;planned&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;dependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;children&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;context-0001-0001&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;context-0001-0002&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;metadata&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;created&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2025-01-15T10:30:00.000Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;ceremony&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;project-expansion&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;tokenBudget&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">800</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="story-work-json-structure" tabindex="-1">Story work.json Structure <a class="header-anchor" href="#story-work-json-structure" aria-label="Permalink to &quot;Story work.json Structure&quot;">‚Äã</a></h3><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;context-0001-0001&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Story Name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;story&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;userType&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;end-user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Story description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;acceptance&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;criterion 1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;criterion 2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;status&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;planned&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;dependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;children&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [],  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Empty until /seed creates tasks</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;metadata&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;created&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2025-01-15T10:30:00.000Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;ceremony&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;project-expansion&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;tokenBudget&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1500</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><hr><h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;Usage&quot;">‚Äã</a></h2><h3 id="first-expansion-after-sponsor-call" tabindex="-1">First Expansion (After Sponsor Call) <a class="header-anchor" href="#first-expansion-after-sponsor-call" aria-label="Permalink to &quot;First Expansion (After Sponsor Call)&quot;">‚Äã</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">avc</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /project-expansion</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Uses INITIAL_SCOPE from project doc.md to create initial Epics/Stories.</p><p><strong>Example Output:</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>üìä Project Expansion Ceremony</span></span>
<span class="line"><span></span></span>
<span class="line"><span>üìã Analyzing existing project structure...</span></span>
<span class="line"><span></span></span>
<span class="line"><span>No existing Epics/Stories found (first expansion)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>üîÑ Stage 1/3: Decomposing scope into Epics and Stories...</span></span>
<span class="line"><span></span></span>
<span class="line"><span>‚úÖ Generated 4 new Epics with 18 new Stories</span></span>
<span class="line"><span></span></span>
<span class="line"><span>üìù Stage 2/3: Generating context files...</span></span>
<span class="line"><span></span></span>
<span class="line"><span>   ‚úÖ context-0001/doc.md</span></span>
<span class="line"><span>   ‚úÖ context-0001/context.md</span></span>
<span class="line"><span>   ‚úÖ context-0001/work.json</span></span>
<span class="line"><span>      ‚úÖ context-0001-0001/doc.md</span></span>
<span class="line"><span>      ‚úÖ context-0001-0001/context.md</span></span>
<span class="line"><span>      ‚úÖ context-0001-0001/work.json</span></span>
<span class="line"><span>      ...</span></span>
<span class="line"><span></span></span>
<span class="line"><span>üíæ Stage 3/3: Writing hierarchy files...</span></span>
<span class="line"><span></span></span>
<span class="line"><span>‚úÖ Project hierarchy expanded!</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Created:</span></span>
<span class="line"><span>   ‚Ä¢ 4 new Epics</span></span>
<span class="line"><span>   ‚Ä¢ 18 new Stories</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Total project structure:</span></span>
<span class="line"><span>   ‚Ä¢ 4 Epics</span></span>
<span class="line"><span>   ‚Ä¢ 18 Stories</span></span>
<span class="line"><span>   ‚Ä¢ 0 Tasks (run /seed to create tasks for stories)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>üìä Token Usage:</span></span>
<span class="line"><span>   Input: 12,450 tokens</span></span>
<span class="line"><span>   Output: 8,320 tokens</span></span>
<span class="line"><span>   Total: 20,770 tokens</span></span>
<span class="line"><span>   API Calls: 23</span></span>
<span class="line"><span></span></span>
<span class="line"><span>‚úÖ Token history updated</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Next steps:</span></span>
<span class="line"><span>   1. Review Epic/Story structure in .avc/project/</span></span>
<span class="line"><span>   2. Run /seed &lt;story-id&gt; to decompose a Story into Tasks/Subtasks</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><h3 id="subsequent-expansions-add-more-features" tabindex="-1">Subsequent Expansions (Add More Features) <a class="header-anchor" href="#subsequent-expansions-add-more-features" aria-label="Permalink to &quot;Subsequent Expansions (Add More Features)&quot;">‚Äã</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /project-expansion</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>Behavior:</strong></p><ul><li>Reads existing Epics/Stories</li><li>Passes existing names to agent for duplicate detection</li><li>Agent generates ONLY new Epics/Stories</li><li>IDs are renumbered to avoid collisions</li></ul><p><strong>Example Output:</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>üìã Analyzing existing project structure...</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Found 4 existing Epics, 18 existing Stories</span></span>
<span class="line"><span></span></span>
<span class="line"><span>üîÑ Stage 1/3: Decomposing scope into Epics and Stories...</span></span>
<span class="line"><span></span></span>
<span class="line"><span>‚úÖ Generated 1 new Epic with 3 new Stories</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Created:</span></span>
<span class="line"><span>   ‚Ä¢ 1 new Epic</span></span>
<span class="line"><span>   ‚Ä¢ 3 new Stories</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Total project structure:</span></span>
<span class="line"><span>   ‚Ä¢ 5 Epics</span></span>
<span class="line"><span>   ‚Ä¢ 21 Stories</span></span>
<span class="line"><span>   ‚Ä¢ 0 Tasks</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><hr><h2 id="duplicate-detection-algorithm" tabindex="-1">Duplicate Detection Algorithm <a class="header-anchor" href="#duplicate-detection-algorithm" aria-label="Permalink to &quot;Duplicate Detection Algorithm&quot;">‚Äã</a></h2><h3 id="how-it-works" tabindex="-1">How It Works <a class="header-anchor" href="#how-it-works" aria-label="Permalink to &quot;How It Works&quot;">‚Äã</a></h3><ol><li><p><strong>Build Existing Maps</strong> (Step 2):</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> existingEpics</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;user management&quot; -&gt; &quot;context-0001&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> existingStories</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;user registration&quot; -&gt; &quot;context-0001-0001&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p><strong>Pass to Agent</strong> (Step 4):</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Existing Epics: user management, payment processing</span></span>
<span class="line"><span>Existing Stories: user registration, login, checkout</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Generate NEW Epics and Stories. Skip existing ones.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p><strong>Agent Skips Duplicates</strong>:</p><ul><li>Case-insensitive matching</li><li>&quot;User Management&quot; matches &quot;user management&quot; ‚Üí SKIP</li><li>&quot;Analytics Dashboard&quot; doesn&#39;t match ‚Üí CREATE</li></ul></li><li><p><strong>ID Renumbering</strong> (Step 6):</p><ul><li>New Epics: context-0005, context-0006, ...</li><li>New Stories: context-0005-0001, context-0005-0002, ...</li></ul></li></ol><h3 id="why-duplicate-detection" tabindex="-1">Why Duplicate Detection? <a class="header-anchor" href="#why-duplicate-detection" aria-label="Permalink to &quot;Why Duplicate Detection?&quot;">‚Äã</a></h3><p><strong>Problem:</strong> Without duplicate detection, re-running <code>/project-expansion</code> would create:</p><ul><li>&quot;User Management&quot; (context-0001) - original</li><li>&quot;User Management&quot; (context-0005) - duplicate!</li></ul><p><strong>Solution:</strong> Agent checks existing names and skips duplicates, enabling:</p><ul><li>Safe re-runs of ceremony</li><li>Incremental project growth</li><li>Adding features without recreating existing structure</li></ul><hr><h2 id="error-handling" tabindex="-1">Error Handling <a class="header-anchor" href="#error-handling" aria-label="Permalink to &quot;Error Handling&quot;">‚Äã</a></h2><h3 id="missing-prerequisites" tabindex="-1">Missing Prerequisites <a class="header-anchor" href="#missing-prerequisites" aria-label="Permalink to &quot;Missing Prerequisites&quot;">‚Äã</a></h3><p><strong>Error:</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>‚ùå Project expansion failed: Project context not found.</span></span>
<span class="line"><span>   Please run /sponsor-call first to create the project foundation.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>Solution:</strong> Run <code>/sponsor-call</code> first</p><h3 id="invalid-scope-format" tabindex="-1">Invalid Scope Format <a class="header-anchor" href="#invalid-scope-format" aria-label="Permalink to &quot;Invalid Scope Format&quot;">‚Äã</a></h3><p><strong>Error:</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>‚ùå Project expansion failed: Could not find Initial Scope section in project documentation</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>Solution:</strong> Verify <code>.avc/project/project/doc.md</code> has &quot;## Initial Scope&quot; section</p><h3 id="llm-provider-errors" tabindex="-1">LLM Provider Errors <a class="header-anchor" href="#llm-provider-errors" aria-label="Permalink to &quot;LLM Provider Errors&quot;">‚Äã</a></h3><p><strong>Error:</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>‚ö†Ô∏è  Retry 1/3 in 2s: Epic/Story decomposition</span></span>
<span class="line"><span>   Error: rate limit exceeded</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>Behavior:</strong> Automatic retry with exponential backoff (3 attempts)</p><hr><h2 id="next-steps" tabindex="-1">Next Steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;Next Steps&quot;">‚Äã</a></h2><p>After Project Expansion completes:</p><ol><li><p><strong>Review Epic/Story Structure:</strong></p><ul><li>Check <code>.avc/project/context-*/</code> directories</li><li>Read Epic/Story context.md files</li><li>Validate Epic domains and Story acceptance criteria</li></ul></li><li><p><strong>Decompose Stories into Tasks:</strong></p><ul><li>Run <code>/seed &lt;story-id&gt;</code> for each Story</li><li>Example: <code>/seed context-0001-0001</code></li><li>Creates Tasks and Subtasks for implementation</li></ul></li><li><p><strong>Expand Again (Optional):</strong></p><ul><li>Modify <code>.avc/project/project/doc.md</code> to add new features</li><li>Run <code>/project-expansion</code> again</li><li>Duplicate detection ensures no collisions</li></ul></li></ol><hr><h2 id="tips" tabindex="-1">Tips <a class="header-anchor" href="#tips" aria-label="Permalink to &quot;Tips&quot;">‚Äã</a></h2><ul><li><strong>Start Small:</strong> Run Sponsor Call with focused scope, then expand incrementally</li><li><strong>Review Before Seeding:</strong> Check Epic/Story structure before creating Tasks</li><li><strong>Incremental Growth:</strong> Add features over time by re-running ceremony</li><li><strong>Context Inheritance:</strong> Epic contexts flow down to Stories, which flow down to Tasks</li></ul></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/ceremonies/sponsor-call.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>Sponsor Call</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/ceremonies/seed.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>Seed</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>Released under the MIT License.</p><p class="copyright" data-v-e315a0ad>Copyright ¬© 2026 Nacho Coll</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"agents_context-refiner.md\":\"RS_3lEMT\",\"agents_documentation-updater.md\":\"CrKPxxxN\",\"agents_epic-story-decomposer.md\":\"UxdgXCaa\",\"agents_feature-context-generator.md\":\"CeIe7ofk\",\"agents_project-context-generator.md\":\"BRCwBLjF\",\"agents_project-documentation-creator.md\":\"HfPTvZhi\",\"agents_suggestion-business-analyst.md\":\"B0fGrGt0\",\"agents_suggestion-product-manager.md\":\"1a8qchSx\",\"agents_suggestion-security-specialist.md\":\"CeHh7W10\",\"agents_suggestion-technical-architect.md\":\"x-Jh8UHb\",\"agents_suggestion-ux-researcher.md\":\"Dx9yUCTB\",\"agents_task-subtask-decomposer.md\":\"DJPUtf2z\",\"agents_validator-context.md\":\"BdA5Pm4t\",\"agents_validator-documentation.md\":\"D9ocCEp3\",\"ceremonies_ai-coding.md\":\"BLjM0U8E\",\"ceremonies_context-retrospective.md\":\"e4SSgwpc\",\"ceremonies_project-expansion.md\":\"C2KEfIeN\",\"ceremonies_seed.md\":\"DoL8gKfY\",\"ceremonies_sponsor-call.md\":\"DAq8eOZV\",\"ceremonies_validators.md\":\"DlsJguzm\",\"commands.md\":\"D7zJI9Pa\",\"contribute.md\":\"CJ5YFn1a\",\"index.md\":\"DetYsvdu\",\"install.md\":\"B7C4s5ce\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Agile Vibe Coding\",\"description\":\"AI-agent framework for long-running software development projects\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.svg\",\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Install\",\"link\":\"/install\"},{\"text\":\"Commands\",\"link\":\"/commands\"},{\"text\":\"Contribute\",\"link\":\"/contribute\"},{\"text\":\"GitHub\",\"link\":\"https://github.com/NachoColl/agilevibecoding\"}],\"sidebar\":[{\"text\":\"Introduction\",\"items\":[{\"text\":\"Overview\",\"link\":\"/\"}]},{\"text\":\"Ceremonies\",\"items\":[{\"text\":\"Sponsor Call\",\"link\":\"/ceremonies/sponsor-call\"},{\"text\":\"Project Expansion\",\"link\":\"/ceremonies/project-expansion\"},{\"text\":\"Seed\",\"link\":\"/ceremonies/seed\"},{\"text\":\"AI Coding\",\"link\":\"/ceremonies/ai-coding\"},{\"text\":\"Context Retrospective\",\"link\":\"/ceremonies/context-retrospective\"}]},{\"text\":\"Reference\",\"items\":[{\"text\":\"Install\",\"link\":\"/install\"},{\"text\":\"CLI Commands\",\"link\":\"/commands\"},{\"text\":\"Contributing\",\"link\":\"/contribute\"}]},{\"text\":\"Agents\",\"items\":[{\"text\":\"Documentation\",\"collapsed\":false,\"items\":[{\"text\":\"Creator\",\"link\":\"/agents/project-documentation-creator\"},{\"text\":\"Updater\",\"link\":\"/agents/documentation-updater\"}]},{\"text\":\"Decomposition\",\"collapsed\":false,\"items\":[{\"text\":\"Epic/Story\",\"link\":\"/agents/epic-story-decomposer\"},{\"text\":\"Task/Subtask\",\"link\":\"/agents/task-subtask-decomposer\"}]},{\"text\":\"Context Management\",\"collapsed\":false,\"items\":[{\"text\":\"Project\",\"link\":\"/agents/project-context-generator\"},{\"text\":\"Feature\",\"link\":\"/agents/feature-context-generator\"},{\"text\":\"Refiner\",\"link\":\"/agents/context-refiner\"}]},{\"text\":\"Domain Suggestions\",\"collapsed\":false,\"items\":[{\"text\":\"Business Analyst\",\"link\":\"/agents/suggestion-business-analyst\"},{\"text\":\"UX Researcher\",\"link\":\"/agents/suggestion-ux-researcher\"},{\"text\":\"Product Manager\",\"link\":\"/agents/suggestion-product-manager\"},{\"text\":\"Technical Architect\",\"link\":\"/agents/suggestion-technical-architect\"},{\"text\":\"Security Specialist\",\"link\":\"/agents/suggestion-security-specialist\"}]}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/NachoColl/agilevibecoding\"}],\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright ¬© 2026 Nacho Coll\"},\"search\":{\"provider\":\"local\"},\"outline\":{\"level\":[2,3],\"label\":\"On this page\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>